{"ast":null,"code":"import NavBar from \"@/Components/NavBar.vue\";\nimport axios from \"axios\";\nexport default {\n  components: {\n    NavBar\n  },\n  data() {\n    return {\n      selectedDate: null,\n      orderData: {}\n    };\n  },\n  methods: {\n    getDateReport(date) {\n      if (date != null) {\n        axios.post('http://127.0.0.1:8000/api/report/', {\n          'data_choice': date\n        }).then(response => {\n          console.log(response.data);\n          this.orderData = response.data;\n        }).catch(error => {\n          console.log(error);\n        });\n      } else {\n        alert('Вы не выбрали дату!\\nВыберите дату, пожалуйста :)');\n      }\n    }\n  },\n  computed: {\n    total() {\n      return Object.values(this.orderData).reduce((sum, dish) => sum + dish.dish_count * dish.dish_now_price, 0);\n    }\n  }\n};","map":{"version":3,"names":["NavBar","axios","components","data","selectedDate","orderData","methods","getDateReport","date","post","then","response","console","log","catch","error","alert","computed","total","Object","values","reduce","sum","dish","dish_count","dish_now_price"],"sources":["C:\\projects\\приложение для заказа корпоративной еды\\project\\eat_app_front\\src\\pages\\Report.vue"],"sourcesContent":["<template xmlns=\"http://www.w3.org/1999/html\">\r\n    <NavBar/>\r\n    <h1 class=\"page_category\">Отчет \"Заказы по дате\"</h1>\r\n    <div class=\"block_content\">\r\n        <div class=\"form_block\">\r\n            <input type=\"date\" v-model=\"selectedDate\">\r\n            <button @click=\"getDateReport(selectedDate)\">Сформировать отчет за дату</button>\r\n        </div>\r\n\r\n        <div class=\"table_block\">\r\n          <table class=\"order_table\">\r\n              <thead>\r\n              <tr>\r\n                  <th>Название</th>\r\n                  <th>Количество</th>\r\n                  <th>Цена в момент заказа</th>\r\n                  <th>Общая стоимость</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <tr v-for=\"(dish_info, dish_name, index) in orderData\" :key=\"index\">\r\n                  <td>{{ dish_name }}</td>\r\n                  <td>{{ dish_info.dish_count }}</td>\r\n                  <td>{{ dish_info.dish_now_price }}</td>\r\n                  <td>{{ dish_info.dish_count * dish_info.dish_now_price }}</td>\r\n              </tr>\r\n              </tbody>\r\n          </table>\r\n          <p>Общая стоимость: {{ total }}</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from \"@/Components/NavBar.vue\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n    components: {NavBar},\r\n    data() {\r\n        return{\r\n            selectedDate: null,\r\n            orderData: {},\r\n        }\r\n    },\r\n    methods: {\r\n      getDateReport(date) {\r\n          if (date != null){\r\n              axios.post('http://127.0.0.1:8000/api/report/', {'data_choice': date})\r\n                  .then(response => {\r\n                      console.log(response.data)\r\n                      this.orderData = response.data\r\n                  })\r\n                  .catch(error => {\r\n                      console.log(error)\r\n                  })\r\n          } else {\r\n              alert('Вы не выбрали дату!\\nВыберите дату, пожалуйста :)')\r\n          }\r\n      }\r\n    },\r\n    computed: {\r\n        total() {\r\n            return Object.values(this.orderData).reduce((sum, dish) => sum + (dish.dish_count * dish.dish_now_price), 0);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.order_table{\r\n  border: 3px solid #000;\r\n}\r\n\r\nth, td {\r\n  border: 2px solid #b8b8b8;\r\n}\r\n\r\nth {\r\n  font-size: large;\r\n}\r\n\r\n.table_block{\r\n  margin-top: 3%;\r\n  margin-left: 2%;\r\n}\r\n\r\n.form_block{\r\n  margin-left: 2%;\r\n}\r\n\r\n</style>"],"mappings":"AAkCA,OAAOA,MAAK,MAAO,yBAAyB;AAC5C,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACXC,UAAU,EAAE;IAACF;EAAM,CAAC;EACpBG,IAAIA,CAAA,EAAG;IACH,OAAM;MACFC,YAAY,EAAE,IAAI;MAClBC,SAAS,EAAE,CAAC;IAChB;EACJ,CAAC;EACDC,OAAO,EAAE;IACPC,aAAaA,CAACC,IAAI,EAAE;MAChB,IAAIA,IAAG,IAAK,IAAI,EAAC;QACbP,KAAK,CAACQ,IAAI,CAAC,mCAAmC,EAAE;UAAC,aAAa,EAAED;QAAI,CAAC,EAChEE,IAAI,CAACC,QAAO,IAAK;UACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACR,IAAI;UACzB,IAAI,CAACE,SAAQ,GAAIM,QAAQ,CAACR,IAAG;QACjC,CAAC,EACAW,KAAK,CAACC,KAAI,IAAK;UACZH,OAAO,CAACC,GAAG,CAACE,KAAK;QACrB,CAAC;MACT,OAAO;QACHC,KAAK,CAAC,mDAAmD;MAC7D;IACJ;EACF,CAAC;EACDC,QAAQ,EAAE;IACNC,KAAKA,CAAA,EAAG;MACJ,OAAOC,MAAM,CAACC,MAAM,CAAC,IAAI,CAACf,SAAS,CAAC,CAACgB,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAE,GAAKC,IAAI,CAACC,UAAS,GAAID,IAAI,CAACE,cAAe,EAAE,CAAC,CAAC;IAChH;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}