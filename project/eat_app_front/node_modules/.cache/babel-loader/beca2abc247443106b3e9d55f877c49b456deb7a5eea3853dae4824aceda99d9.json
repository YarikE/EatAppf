{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-76a746d8\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"page_category\"\n}, \"Отчет \\\"Заказы по дате\\\"\", -1 /* HOISTED */));\nconst _hoisted_2 = {\n  class: \"block_content\"\n};\nconst _hoisted_3 = {\n  class: \"form_block\"\n};\nconst _hoisted_4 = {\n  class: \"table_block\"\n};\nconst _hoisted_5 = {\n  class: \"order_table\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Название\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Количество\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Цена в момент заказа\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Общая стоимость\")])], -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavBar = _resolveComponent(\"NavBar\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_NavBar), _hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedDate = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedDate]]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $options.getDateReport($data.selectedDate))\n  }, \"Сформировать отчет за дату\")]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"table\", _hoisted_5, [_hoisted_6, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.orderData, (dish_info, dish_name, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"td\", null, _toDisplayString(dish_name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(dish_info.dish_count), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(dish_info.dish_now_price), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(dish_info.dish_count * dish_info.dish_now_price), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"p\", null, \"Общая стоимость: \" + _toDisplayString($options.total), 1 /* TEXT */)])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","_createVNode","_component_NavBar","_hoisted_1","_hoisted_2","_hoisted_3","type","$data","selectedDate","$event","onClick","_cache","$options","getDateReport","_hoisted_4","_hoisted_5","_hoisted_6","_createElementBlock","_Fragment","_renderList","orderData","dish_info","dish_name","index","key","_toDisplayString","dish_count","dish_now_price","total"],"sources":["C:\\projects\\приложение для заказа корпоративной еды\\project\\eat_app_front\\src\\pages\\Report.vue"],"sourcesContent":["<template xmlns=\"http://www.w3.org/1999/html\">\r\n    <NavBar/>\r\n    <h1 class=\"page_category\">Отчет \"Заказы по дате\"</h1>\r\n    <div class=\"block_content\">\r\n        <div class=\"form_block\">\r\n            <input type=\"date\" v-model=\"selectedDate\">\r\n            <button @click=\"getDateReport(selectedDate)\">Сформировать отчет за дату</button>\r\n        </div>\r\n\r\n        <div class=\"table_block\">\r\n          <table class=\"order_table\">\r\n              <thead>\r\n              <tr>\r\n                  <th>Название</th>\r\n                  <th>Количество</th>\r\n                  <th>Цена в момент заказа</th>\r\n                  <th>Общая стоимость</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <tr v-for=\"(dish_info, dish_name, index) in orderData\" :key=\"index\">\r\n                  <td>{{ dish_name }}</td>\r\n                  <td>{{ dish_info.dish_count }}</td>\r\n                  <td>{{ dish_info.dish_now_price }}</td>\r\n                  <td>{{ dish_info.dish_count * dish_info.dish_now_price }}</td>\r\n              </tr>\r\n              </tbody>\r\n          </table>\r\n          <p>Общая стоимость: {{ total }}</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from \"@/Components/NavBar.vue\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n    components: {NavBar},\r\n    data() {\r\n        return{\r\n            selectedDate: null,\r\n            orderData: {},\r\n        }\r\n    },\r\n    methods: {\r\n      getDateReport(date) {\r\n          if (date != null){\r\n              axios.post('http://127.0.0.1:8000/api/report/', {'data_choice': date})\r\n                  .then(response => {\r\n                      console.log(response.data)\r\n                      this.orderData = response.data\r\n                  })\r\n                  .catch(error => {\r\n                      console.log(error)\r\n                  })\r\n          } else {\r\n              alert('Вы не выбрали дату!\\nВыберите дату, пожалуйста :)')\r\n          }\r\n      }\r\n    },\r\n    computed: {\r\n        total() {\r\n            return Object.values(this.orderData).reduce((sum, dish) => sum + (dish.dish_count * dish.dish_now_price), 0);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.order_table{\r\n  border: 3px solid #000;\r\n}\r\n\r\nth, td {\r\n  border: 2px solid #b8b8b8;\r\n}\r\n\r\nth {\r\n  font-size: large;\r\n}\r\n\r\n</style>"],"mappings":";;gEAEIA,mBAAA,CAAqD;EAAjDC,KAAK,EAAC;AAAe,GAAC,0BAAsB;;EAC3CA,KAAK,EAAC;AAAe;;EACjBA,KAAK,EAAC;AAAY;;EAKlBA,KAAK,EAAC;AAAa;;EACfA,KAAK,EAAC;AAAa;gEACtBD,mBAAA,CAOQ,gB,aANRA,mBAAA,CAKK,a,aAJDA,mBAAA,CAAiB,YAAb,UAAQ,G,aACZA,mBAAA,CAAmB,YAAf,YAAU,G,aACdA,mBAAA,CAA6B,YAAzB,sBAAoB,G,aACxBA,mBAAA,CAAwB,YAApB,iBAAe,E;;;;6DAfjCE,YAAA,CAASC,iBAAA,GACTC,UAAqD,EACrDJ,mBAAA,CA2BM,OA3BNK,UA2BM,GA1BFL,mBAAA,CAGM,OAHNM,UAGM,G,gBAFFN,mBAAA,CAA0C;IAAnCO,IAAI,EAAC,MAAM;+DAAUC,KAAA,CAAAC,YAAY,GAAAC,MAAA;iDAAZF,KAAA,CAAAC,YAAY,E,GACxCT,mBAAA,CAAgF;IAAvEW,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAF,MAAA,IAAEG,QAAA,CAAAC,aAAa,CAACN,KAAA,CAAAC,YAAY;KAAG,4BAA0B,E,GAG3ET,mBAAA,CAoBM,OApBNe,UAoBM,GAnBJf,mBAAA,CAiBQ,SAjBRgB,UAiBQ,GAhBJC,UAOQ,EACRjB,mBAAA,CAOQ,iB,kBANRkB,mBAAA,CAKKC,SAAA,QAAAC,WAAA,CALuCZ,KAAA,CAAAa,SAAS,GAAzCC,SAAS,EAAEC,SAAS,EAAEC,KAAK;yBAAvCN,mBAAA,CAKK;MALmDO,GAAG,EAAED;IAAK,IAC9DxB,mBAAA,CAAwB,YAAA0B,gBAAA,CAAjBH,SAAS,kBAChBvB,mBAAA,CAAmC,YAAA0B,gBAAA,CAA5BJ,SAAS,CAACK,UAAU,kBAC3B3B,mBAAA,CAAuC,YAAA0B,gBAAA,CAAhCJ,SAAS,CAACM,cAAc,kBAC/B5B,mBAAA,CAA8D,YAAA0B,gBAAA,CAAvDJ,SAAS,CAACK,UAAU,GAAGL,SAAS,CAACM,cAAc,iB;sCAI9D5B,mBAAA,CAAmC,WAAhC,mBAAiB,GAAA0B,gBAAA,CAAGb,QAAA,CAAAgB,KAAK,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}