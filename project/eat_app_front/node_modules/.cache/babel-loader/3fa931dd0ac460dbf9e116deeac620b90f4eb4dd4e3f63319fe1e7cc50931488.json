{"ast":null,"code":"import NavBar from \"@/Components/NavBar.vue\";\nimport axios from \"axios\";\nexport default {\n  components: {\n    NavBar\n  },\n  data() {\n    return {\n      selectedUser: null,\n      users: [],\n      ordersData: {}\n    };\n  },\n  mounted() {\n    axios.get('http://127.0.0.1:8000/api/user_view/').then(response => {\n      this.users = response.data;\n    }).catch(error => {\n      console.log(error);\n    });\n  },\n  methods: {\n    getHistory(user) {\n      axios.post('http://127.0.0.1:8000/api/history/', {\n        user_name: user\n      }).then(response => {\n        console.log(response.data);\n        this.ordersData = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["NavBar","axios","components","data","selectedUser","users","ordersData","mounted","get","then","response","catch","error","console","log","methods","getHistory","user","post","user_name"],"sources":["/home/yaroslav/EatAppf/project/eat_app_front/src/pages/History.vue"],"sourcesContent":["<template>\n    <NavBar/>\n    <h1 class=\"page_category\">История заказов</h1>\n    <div class=\"block_content\">\n        <div class=\"select_user\">\n            <div>Выберите сотрудника из списка: </div>\n            <select v-model=\"selectedUser\">\n                <option v-for=\"user in users\" v-bind:value=\"user.user_name\">{{user.user_name}}</option>\n            </select>\n            <button class=\"bg-primary text-white\" @click=\"getHistory(selectedUser)\">Выбрать сотрудника</button>\n        </div>\n\n        <div class=\"posts\">\n            <div v-for=\"(orders, index) in ordersData\" :key=\"index\">\n                <div class=\"dish_history_element\" v-for=\"(order, index) in orders\" :key=\"index\">\n                    <h3>Дата заказа: {{ order.order_date }}</h3>\n                    <div v-for=\"dish in order.dishes\">\n                        <div class=\"dish_in_order\">\n                            <div>Название блюда: {{ dish.dish_name }}</div>\n                            <div>Кол-во: {{ dish.dish_count }}</div>\n                            <div>Цена на момент заказа: {{ dish.dish_now_price }}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport NavBar from \"@/Components/NavBar.vue\";\nimport axios from \"axios\";\n\nexport default {\n    components: {NavBar},\n    data(){\n        return{\n            selectedUser: null,\n            users: [],\n            ordersData: {},\n        }\n    },\n    mounted() {\n        axios.get('http://127.0.0.1:8000/api/user_view/')\n            .then(response => {\n                this.users = response.data\n            })\n            .catch(error => {\n                console.log(error)\n            })\n    },\n    methods: {\n        getHistory(user) {\n            axios.post('http://127.0.0.1:8000/api/history/', {user_name: user})\n                .then(response =>{\n                    console.log(response.data)\n                    this.ordersData = response.data\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n        }\n    }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n\n\n</style>"],"mappings":"AA8BA,OAAOA,MAAK,MAAO,yBAAyB;AAC5C,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACXC,UAAU,EAAE;IAACF;EAAM,CAAC;EACpBG,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,YAAY,EAAE,IAAI;MAClBC,KAAK,EAAE,EAAE;MACTC,UAAU,EAAE,CAAC;IACjB;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACNN,KAAK,CAACO,GAAG,CAAC,sCAAsC,EAC3CC,IAAI,CAACC,QAAO,IAAK;MACd,IAAI,CAACL,KAAI,GAAIK,QAAQ,CAACP,IAAG;IAC7B,CAAC,EACAQ,KAAK,CAACC,KAAI,IAAK;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK;IACrB,CAAC;EACT,CAAC;EACDG,OAAO,EAAE;IACLC,UAAUA,CAACC,IAAI,EAAE;MACbhB,KAAK,CAACiB,IAAI,CAAC,oCAAoC,EAAE;QAACC,SAAS,EAAEF;MAAI,CAAC,EAC7DR,IAAI,CAACC,QAAO,IAAI;QACbG,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACP,IAAI;QACzB,IAAI,CAACG,UAAS,GAAII,QAAQ,CAACP,IAAG;MAClC,CAAC,EACAQ,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACC,GAAG,CAACF,KAAK;MACrB,CAAC;IACT;EACJ;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}